# Zimbra_api
Python API for Zimbra Web Client

## Description

API for managing mailboxes on Zimbra Web Client. Requires only the administrator login and password, which are specified in the file config.py.
It runs on Flask, uses HMAC based on SHA3_512 signature for the received data

## Routes:
### ACCOUNT MANAGEMENT
- `/createAccount (accountName, password, name, surname, patronymic?, params?, timestamp, hmac_sign)`
- `/deleteAccount (accountID/accountName, timestamp, hmac_sign)`
- `/modifyAccount (accountID/accountName, params. timestamp, hmac_sign)`
- `/renameAccount (accountID/accountName, newName. timestamp, hmac_sign)`
- `/setPassword (accountID/accountName, newPassword. timestamp, hmac_sign)`
- `/getAccount (accountID/accountName, timestamp, hmac_sign)`
- `/getAccounts (timestamp, hmac_sign)`
- `/getAccountMembership (accountID/accountName, timestamp, hmac_sign)`
### MAILBOX MANAGEMENT
- `/getMessages (accountName, unreadOnly?, timestamp, hmac_sign)`
- `/getPreauthLink (accountID/accountName, timestamp, hmac_sign)`
### DISTRIBUTION LIST MANAGEMENT
- `/getDistributionLists (timestamp, hmac_sign)`
- `/getDistributionList (distrListID/distrListName, timestamp, hmac_sign)`
- `/getDistributionListMembership (distrListID/distrListName, timestamp, hmac_sign)`
- `/createDistributionList (name, displayName?, params?, timestamp, hmac_sign)`
- `/deleteDistributionList (distrListID/distrListName, timestamp, hmac_sign)`
- `/modifyDistributionList (distrListID/distrListName, params, timestamp, hmac_sign)`
- `/renameDistributionList (distrListID/distrListName, newName, timestamp, hmac_sign)`
- `/addDistributionListMembers (distrListID/distrListName, userEmails, timestamp, hmac_sign)`
- `/removeDistributionListMembers (distrListID/distrListName, userEmails, timestamp, hmac_sign)`

## Data format:

Json with data is accepted as input. Data must contain 'hmac_code' with the hmac signature of the frame.
The output data is generated by the ResponseData class, after which it is converted into a dictionary. Output contains either the 'error' key by which the 'code' and 'text' is stored, or 'data' key with response data. Ð•he structure of 'data' depends on the method, for more information, see ZimbraAPI.py

## Usage:
**Create config.py similar to config.py.example before using the API!**

```bash
$ pip install -r requirements.txt
$ python3 app.py
```

or build via docker:

```bash
$ docker build -t zimbra_api .
$ docker run -d -p 8080:80 --name zimbra_api zimbra_api:latest
```